FROM python:3.10-alpine

WORKDIR /app

COPY requirements.txt /app/

RUN pip install --no-cache-dir -r requirements.txt

ENV CONFLUENCE_USERNAME=""
ENV CONFLUENCE_PASSWORD=""
ENV CONFLUENCE_URL="https://yourdomain.atlassian.net/wiki/rest/api/"
ENV CONFLUENCE_SPACE="yourspace"
ENV CONFLUENCE_PARENT_PAGE_ID="65777"
ENV CONFLUENCE_SEARCH_PATTERN="(this page is autogenerated)"
ENV MARKDOWN_FOLDER="/data"

COPY . /app

CMD ["python", "/app/main.py"]
